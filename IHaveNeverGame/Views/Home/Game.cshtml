@model GameViewComponent
@{ 
    bool IsAnchorEnabled(Player player)
    {
        return player.ShotCount != GameContext.CountOfShots;
    }
    Question GetRandomQuestion()
    {
        var random = new Random();
        return Model.Questions[random.Next(1, Model.Questions.Count)];
    }
    Question Question()
    {
        return Model.IsQuestionChangeed ? GetRandomQuestion() : Model.Questions.Where(q => q.ID == Model.QuestionID).First();
    }
    Question question = Question();
}

<div class="text-center align-items-center">

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Игрок</th>
                <th>Баллы</th>
                <th>Очки</th>
                <th>@string.Empty</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var player in Model.Players)
            {
                @if (player.IsInGame)
                {
                    <tr>
                        <td>@player.Name</td>
                        <td>@player.ShotCount</td>
                        <td>@player.Score</td>
                        <td>
                            @if (IsAnchorEnabled(player))
                            {
                                <a asp-action="AddShot" asp-controller="Home" asp-route-id="@player.ID" asp-route-shotCount="@player.ShotCount"  asp-route-questionID="@question.ID">+</a>
                            }
                            else
                            {
                                <a asp-action="ChangeScore" asp-controller="Home" asp-route-id="@player.ID"  asp-route-questionID="@question.ID">Пей!</a>
                            }
                        </td>
                        <td>
                            @if (!IsAnchorEnabled(player))
                            {
                                <a asp-action="ChangeStatus" asp-controller="Home" asp-route-id="@player.ID" asp-route-questionID="@question.ID">Отказываюсь</a>
                            }
                        </td>

                    </tr>
                }
            }
        </tbody>
    </table>

    <div>
        <div>
            <h2>@question.Text)</h2>
            <a asp-action="ChangeQuestion" asp-controller="Home" asp-route-id="@question.ID">Следущий вопрос</a>
        </div>
    </div>

</div>